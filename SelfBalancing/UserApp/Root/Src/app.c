/*******************************************************************************
*                     _           _           _    _                           *
*         /\         (_)         | |         | |  | |                          *
*        /  \   _ __  _ ___   ___| |__   __ _| | _| | _____  _   _ _ __        *
*       / /\ \ | '_ \| / __| / __| '_ \ / _` | |/ / |/ / _ \| | | | '__|       *
*      / ____ \| | | | \__ \ \__ \ | | | (_| |   <|   < (_) | |_| | |          *
*     /_/    \_\_| |_|_|___/ |___/_| |_|\__,_|_|\_\_|\_\___/ \__,_|_|          *
*                                                                              *
*******************************************************************************/
/******************************************************************************
 * File Name.c
 *
 *  Created on: November 03, 2024
 *  Author: Anis Shakkour
 *  Email:  anis.shakkour399@gmail.com
 ******************************************************************************/

/*******************************************************************************
 * Includes
 ******************************************************************************/
#include "app.h"

/*******************************************************************************
 * Data types
 ******************************************************************************/
uint32_t volatile systick_1ms;

/*******************************************************************************
 * Extern
 ******************************************************************************/

/*******************************************************************************
 * Interface Functions
 ******************************************************************************/

/*******************************************************************************
 * Private Functions
 ******************************************************************************/

/***************************************************************************//**
 * Initialize application.
 ******************************************************************************/
void app_init(void)
{

  /*---------------------------- SysTick -----------------------------*/
  uint32_t returnCode = 1;
  while(returnCode!=0)
    {
      returnCode = SysTick_Config(SystemCoreClock / 1000);// each 1 msec
    }

  /*----------------------------- GPIO ------------------------------*/
  GPIO_Init();

  /*----------------------------- I2C -------------------------------*/
  I2Cdrv_Init();

  /*----------------------------- IMU -------------------------------*/
  MPU6050_IMU_begin(MPU6050_SCALE_2000DPS, MPU6050_RANGE_2G, MPU6050_ADDRESS);

}

/***************************************************************************//**
 * App ticking function.
 ******************************************************************************/
void app_process_action(void)
{
  MPU6050_IMU_readRawAccel();

  for(int x = 0; x < 0xFFF; x++)
    __NOP();

}

/*******************************************************************************
*                      _____ _    _          ____                              *
*                     / ____| |  | |   /\   / __ \                             *
*                    | (___ | |__| |  /  \ | |  | |___                         *
*                     \___ \|  __  | / /\ \| |  | / __|                        *
*                     ____) | |  | |/ ____ \ |__| \__ \                        *
*                    |_____/|_|  |_/_/    \_\___\_\___/                        *
*                                                                              *
********************************************************************************
* All Software (C)
*******************************************************************************/
/*******************************************************************************
*                     _           _           _    _                           *
*         /\         (_)         | |         | |  | |                          *
*        /  \   _ __  _ ___   ___| |__   __ _| | _| | _____  _   _ _ __        *
*       / /\ \ | '_ \| / __| / __| '_ \ / _` | |/ / |/ / _ \| | | | '__|       *
*      / ____ \| | | | \__ \ \__ \ | | | (_| |   <|   < (_) | |_| | |          *
*     /_/    \_\_| |_|_|___/ |___/_| |_|\__,_|_|\_\_|\_\___/ \__,_|_|          *
*                                                                              *
*******************************************************************************/
/*******************************************************************************
 * Module app.h
 *
 * Description:
 *
 * Note:
 *
 * Author    :  Anis Shakkour
 * Created on:  May 18th, 2024
 ******************************************************************************/
/*_______________________________|   PIN-OUT  |_________________________________
|
| GPIO:
|
| IADC:
|
| I2C:
|
| PWM leds:
|
| UARTerminal:
|_____________________________________________________________________________*/
/*__________________________|   Software Usage  |_______________________________
|
| USTIMER:
|
| Buzzer:
|
| RGB LED:
|
| I2C:
|
| IMU Communication:
|
| VCOM:
|
|_____________________________________________________________________________*/
/*******************************************************************************
  Multiple include protection
 ******************************************************************************/
#ifndef SELF_BALANCING_H_
#define SELF_BALANCING_H_


/*******************************************************************************
 *  Include
 ******************************************************************************/
#include "stdio.h"
#include "stdint.h"

/*******************************************************************************
 *  Macro
 ******************************************************************************/
#define max(a,b) \
    ({ __typeof__ (a) _a = (a); \
    __typeof__ (b) _b = (b); \
    _a > _b ? _a : _b; })

#define min(a,b) \
    ({ __typeof__ (a) _a = (a); \
    __typeof__ (b) _b = (b); \
    _a > _b ? _b : _a; })


#define ABS(N) ((N<0)?(-N):(N))
#define DIFF(a,b) (max(a,b)-min(a,b))
#define UNUSED(x)  ((void)(x))

#define USART_NUM(ref)              (((ref) == USART0) ? 0   \
                                    : ((ref) == USART1) ? 1 \
                                    : -1)
#define USART_CLK(ref)              (((ref) == USART0) ? cmuClock_USART0   \
                                    : ((ref) == USART1) ? cmuClock_USART1 \
                                    : -1)

/*******************************************************************************
 *  Defines
 ******************************************************************************/
/*----------------------------- Software Version -----------------------------*/
#define DEVICE_UNIQUEID       ((uint64_t)DEVINFO->EUI64L | (((uint64_t)DEVINFO->EUI64H) << 32))

#define DEVICE_SW_VER_MAJOR   1
#define DEVICE_SW_VER_MINOR   0
#define DEVICE_SW_VER_BUILD   2

#define DEVICE_HW_VER_MAJOR   1
#define DEVICE_HW_VER_MINOR   0

//---------------------------- Flash address ---------------------------------//
#define USER_FLASH_DATA ((uint32_t*)USERDATA_BASE)


/*------------------------------Software Version------------------------------*/


//--------------------------- General Settings -------------------------------//


//--------------------------- Module Enable ----------------------------------//
//#define ENABLE__DEBUG                   1  /** 1: debug msgs over UART with systick */
#define ENABLE__MPU6050
#define ENABLE__MOTOR_CONTROLLER


//------------------------------- Debug On -----------------------------------//
#if defined(DEBUG)


//----------- BLE

#endif


//---------------------------- UnitTests -------------------------------------//


/**************************************************************************//**
 * Application Init.
 *****************************************************************************/

/**************************************************************************//**
 * Application Process Action.
 *****************************************************************************/

/*******************************************************************************
 *  Data types
 ******************************************************************************/
typedef enum {
  FuncSuccess   = 0x00,
  FuncFailed    = 0x01,
  FuncOnGoing   = 0x02,
  FuncTimeOut   = 0x03,

  Error         = 0x04,
  Connected     = 0x05,
  Not_Connected = 0x06,
  //TimeOut       = 0x07,

  True,
  False,
} RetValue_t;

/**************************************************************************//**
 *                             Application End                                *
 *****************************************************************************/
#endif // SELF_BALANCING_H_

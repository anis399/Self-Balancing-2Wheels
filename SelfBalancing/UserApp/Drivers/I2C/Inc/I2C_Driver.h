/*******************************************************************************
*                      _____ _    _          ____                              *
*                     / ____| |  | |   /\   / __ \                             *
*                    | (___ | |__| |  /  \ | |  | |___                         *
*                     \___ \|  __  | / /\ \| |  | / __|                        *
*                     ____) | |  | |/ ____ \ |__| \__ \                        *
*                    |_____/|_|  |_/_/    \_\___\_\___/                        *
*                                                                              *
********************************************************************************
* All Software (C)
*******************************************************************************/
/*******************************************************************************
*                     _           _           _    _                           *
*         /\         (_)         | |         | |  | |                          *
*        /  \   _ __  _ ___   ___| |__   __ _| | _| | _____  _   _ _ __        *
*       / /\ \ | '_ \| / __| / __| '_ \ / _` | |/ / |/ / _ \| | | | '__|       *
*      / ____ \| | | | \__ \ \__ \ | | | (_| |   <|   < (_) | |_| | |          *
*     /_/    \_\_| |_|_|___/ |___/_| |_|\__,_|_|\_\_|\_\___/ \__,_|_|          *
*                                                                              *
*******************************************************************************/
/*******************************************************************************
 * File
 *
 *  Created on: November 03, 2024
 *  Author: Anis Shakkour
 *  Email:  anis.shakkour399@gmail.com
 *
 *  @brief : Communication out from the MCU. May be Debug or data
 *  @note  :
 *  @todo  :
 *
 * For more information, please refer to the <a href="https://example.com/my_document.pdf">documentation</a>.
 *                                                    "https://github.com/SiliconLabs/peripheral_examples/blob/master/series1/i2c/i2c/src/main_efr.c"
*******************************************************************************/
/******************************************************************************
 * Multiple include protection
 *****************************************************************************/
#ifndef I2C_DRIVER_H_
#define I2C_DRIVER_H_

/*******************************************************************************
 * Includes
 ******************************************************************************/
#include "stdint.h"
#include "em_cmu.h"
#include "em_gpio.h"
#include "em_i2c.h"

/*******************************************************************************
 * Macros
 ******************************************************************************/

/*******************************************************************************
 * Defines
 ******************************************************************************/
#define I2C_SDA_PIN_NUM   3
#define I2C_SDA_PIN_PORT  gpioPortB

#define I2C_SCL_PIN_NUM   4
#define I2C_SCL_PIN_PORT  gpioPortB


/*******************************************************************************
 * Typedef & Enums
 ******************************************************************************/
typedef struct
{
  volatile bool i2c_startTx;
}I2C_Handler;


/*******************************************************************************
 * Private Functions
 ******************************************************************************/

/*******************************************************************************
 * Interface Functions
 ******************************************************************************/
void I2Cdrv_Init(void);

void I2Cdrv_ReadBlocking(uint16_t followerAddress, uint8_t targetAddress, uint8_t *rxBuff, uint8_t numBytes);
void I2Cdrv_WriteBlocking(uint16_t slaveAddress, uint8_t regAddress, uint8_t value);


/***************************************************************************//**
 * App ticking function.
 ******************************************************************************/


/*******************************************************************************
 * END
 ******************************************************************************/
#endif  // _I2C_DRIVER_H_



